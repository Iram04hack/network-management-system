# SNMP Agent Configuration for API_CLIENTS Module
# Configuration pour les tests du module api_clients avec données réelles

# Basic configuration
agentAddress udp:161
rocommunity public default
rwcommunity private default

# System information
sysLocation NMS API_CLIENTS Production
sysContact Admin API_CLIENTS <admin@nms.local>
sysServices 72

# Custom OIDs for API_CLIENTS testing
extend .1.3.6.1.4.1.8072.1.3.2.3.1.1 api-clients-cpu /bin/cat /proc/loadavg
extend .1.3.6.1.4.1.8072.1.3.2.3.1.2 api-clients-memory /usr/bin/free
extend .1.3.6.1.4.1.8072.1.3.2.3.1.3 api-clients-disk /bin/df
extend .1.3.6.1.4.1.8072.1.3.2.3.1.4 api-clients-uptime /usr/bin/uptime

# Interface monitoring for real data
includeAllDisks 10%

# Process monitoring for API clients
proc sshd
proc snmpd
proc python3
proc django

# Load monitoring with real thresholds
load 12 10 5

# Disk monitoring with real constraints
disk / 10000
disk /tmp 5000

# Log file monitoring for real data collection
file /var/log/messages
file /var/log/syslog

# Network interface monitoring for real metrics
interface eth0
interface lo

# Custom MIB for API_CLIENTS testing with real data
# OID tree: .1.3.6.1.4.1.8072.1.3.2.4 (API_CLIENTS specific)
extend .1.3.6.1.4.1.8072.1.3.2.4.1 api-clients-test-counter /bin/echo "42"
extend .1.3.6.1.4.1.8072.1.3.2.4.2 api-clients-test-string /bin/echo "NMS_API_CLIENTS_REAL_DATA"
extend .1.3.6.1.4.1.8072.1.3.2.4.3 api-clients-test-timestamp /bin/date +%s
extend .1.3.6.1.4.1.8072.1.3.2.4.4 api-clients-network-stats /bin/cat /proc/net/dev

# SNMP v3 configuration for advanced testing
createUser nmsuser MD5 nmspassword DES nmsprivacy
rouser nmsuser

# Trap configuration for real event testing
trap2sink localhost public
informsink localhost public

# Access control for production-like testing
access notConfigGroup ""      any       noauth    exact  systemview none none
access notConfigGroup ""      any       auth      exact  systemview none none
access notConfigGroup ""      any       priv      exact  systemview none none

# Views for comprehensive testing
view systemview included .1.3.6.1.2.1.1
view systemview included .1.3.6.1.2.1.2
view systemview included .1.3.6.1.2.1.25.1.1
view systemview included .1.3.6.1.4.1.8072.1.3.2.4

# Logging for debugging
dontLogTCPWrappersConnects yes
