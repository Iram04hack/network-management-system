global
    daemon
    maxconn 4096
    log stdout local0

defaults
    mode http
    timeout connect 5000ms
    timeout client 50000ms
    timeout server 50000ms
    option httplog
    log global

# Stats interface pour tests
stats enable
stats uri /stats
stats refresh 30s
stats admin if TRUE

# Frontend de test
frontend test_frontend
    bind *:80
    default_backend test_backend

# Backend de test
backend test_backend
    balance roundrobin
    server test1 127.0.0.1:8000 check
    server test2 127.0.0.1:8001 check backup

# Frontend pour stats
frontend stats_frontend
    bind *:8404
    stats enable
    stats uri /stats
    stats refresh 5s
    stats admin if TRUE
